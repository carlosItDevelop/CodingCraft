@model IEnumerable<Cooperchip.MedicalManagement.Domain.Entidade.Medico>

@{
    ViewBag.Title = "MedicalManagement - Sys / Lista de Médicos";
}

<div class="panel-heading">
    <h4><i class="fa fa-adn"></i>&nbsp;&nbsp;&nbsp;Listagem de Médicos</h4>
</div>


<div class="animated fadeInRightBig">

    <br />
    <div class="alert alert-success alert-dismissable">
        <h3><i class="fa fa-align-justify"></i> <strong>Tabela com a lista dos Médicos registrados no sistema</strong></h3>
    </div>


    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <div class="ibox-tools">

                        <a href="/Home/Index" class="btn btn-primary" data-toggle="tooltip" data-placement="bottom" title="Voltar para a Home" data-original-title="Voltar para a Home"> <i class="glyphicon glyphicon-home"></i></a>
                        <a href="/Medicos/Create" class="btn btn-primary btn-transparent create" data-toggle="tooltip" data-placement="bottom" title="Adicionar novo Médico" data-original-title="Adicionar novo Médico"> <i class="glyphicon glyphicon-briefcase"></i> </a>

                        <hr />
                        <div class="ibox-content">

                            <table class="table table-striped table-bordered table-hover mmanagement">
                                <thead>
                                    <tr>
                                        <th>
                                            Nome
                                        </th>
                                        <th>
                                            Especialidade
                                        </th>


                                        <th>
                                            @Html.DisplayNameFor(model => model.Crm)
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(model => model.DataUltimaModificacao)
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(model => model.UsuarioUltimaModificacao)
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(model => model.DataInclusao)
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(model => model.UsuarioInclusao)
                                        </th>
                                        <th>Ação</th>
                                    </tr>
                                </thead>


                                @foreach (var item in Model)
                                {
                                    <tr>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.PessoaFisica.NomeOuRazaoSocial)
                                        </td>

                                        <td>
                                            @Html.DisplayFor(modelItem => item.Especialidade.Descricao)
                                        </td>


                                        <td>
                                            @Html.DisplayFor(modelItem => item.Crm)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.DataUltimaModificacao)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.UsuarioUltimaModificacao)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.DataInclusao)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.UsuarioInclusao)
                                        </td>
                                        <td>


                                            <a href="/Medicos/Edit/@item.MedicoId" class="btn btn-primary btn-transparent edit" data-id="@item.MedicoId" data-toggle="tooltip" data-placement="bottom" title="Editar Médico" data-original-title="Editar Médico"><i class="glyphicon glyphicon-edit"></i></a>

                                            <a href="/Medicos/Details/@item.MedicoId" class="btn btn-default btn-transparent details" data-id="@item.MedicoId" data-toggle="tooltip" data-placement="bottom" title="Detalhes do Médico" data-original-title="Detalhes do Médico"><i class="glyphicon glyphicon-exclamation-sign"></i></a>

                                            <a href="/Medicos/Delete/@item.MedicoId" class="btn btn-danger btn-transparent delete" data-id="@item.MedicoId" data-toggle="tooltip" data-placement="bottom" title="Excluir Médico" data-original-title="Excluir Médico"><i class="glyphicon glyphicon-trash"></i></a>

                                        </td>
                                    </tr>
                                }

                                <tfoot>
                                    <tr>
                                        <th>
                                            Nome
                                        </th>
                                        <th>
                                            Especialidade
                                        </th>


                                        <th>
                                            @Html.DisplayNameFor(model => model.Crm)
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(model => model.DataUltimaModificacao)
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(model => model.UsuarioUltimaModificacao)
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(model => model.DataInclusao)
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(model => model.UsuarioInclusao)
                                        </th>
                                        <th>Ação</th>
                                    </tr>
                                </tfoot>

                            </table>

                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <script type="text/javascript">
        $(document).ready(function () {
            $('.mmanagement').DataTable({
                dom: 'T<"clear">lfrtip',
                tableTools: {
                    //"sSwfPath": "../../myPlugins/copy_csv_xls_pdf.swf"
                    "sSwfPath": "~/myPlugins/copy_csv_xls_pdf.swf"
                }
            });
        });

        //$(".edit").click(function () {
        //    var id = $(this).attr("data-id");
        //    $("#modal").load("/Medicos/Edit?id=" + id, function () {
        //        $("#modal").modal();
        //    });
        //});

        //$(".details").click(function () {
        //    var id = $(this).attr("data-id");
        //    $("#modal").load("/Medicos/Details?id=" + id, function () {
        //        $("#modal").modal();
        //    });
        //});

        //$(".delete").click(function () {
        //    var id = $(this).attr("data-id");
        //    $("#modal").load("/Medicos/Delete?id=" + id, function () {
        //        $("#modal").modal();
        //    });
        //});


        //$(".create").click(function () {
        //    $("#modal").load("/Medicos/Create", function () {
        //        $("#modal").modal();
        //    });
        //});


    </script>

}




